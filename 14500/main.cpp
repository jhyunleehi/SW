#include <stdio.h>
int N, M, map[505][505], max;
int ty[19][4] = { {0,0,0,0}, {0,1,2,3}, {0,0,1,1},
				 {-1, 0, 1, 1}, { 0,0,0,-1 }, { -1,-1,0,1 }, {1,0,0,0 },
				 {-1, 0, 1, 1}, { 0,0,0,1 }, { -1,-1,0,1 }, {-1,0,0,0 },
				 {0, 1, 1, 2}, { 0,0,-1,-1 }, {0,0,1,1},{0,1,1,2},
				 {0,0,0,1},{0,0,0,-1},{-1,0,1,0},{-1,0,1,0} };
int tx[19][4] = { {0,1,2,3}, {0,0,0,0}, {0,1,1,0},
				 {0, 0, 0, 1}, { -1,0,1,1 }, { -1,0,0,0 },{-1,-1,0,1 },
	             {0, 0, 0, -1}, { -1,0,1,1 }, { 1,0,0,0 },{-1,-1,0,1 },
				 {0, 0, 1, 1}, { 0,1,1,2 },{0,1,1,2},{0,0,-1,-1},
				 {-1,0,1,0},{-1,0,1,0},{0,0,0,1},{0,0,0,-1} };
int nx[4], ny[4], chk, sum;
int main() {
	freopen("data.txt", "r", stdin);
	scanf("%d %d", &N, &M);
	for (int y = 1; y <= N; y++) {
		for (int x = 1; x <= M; x++) {
			scanf("%d", &map[y][x]);
		}
	}
	for (int y = 1; y <= N; y++) {
		for (int x = 1; x <= M; x++) {
			for (int t = 0; t < 19; t++) {
				chk = 1; sum = 0;
				for (int i = 0; i < 4; i++) {
					ny[i] = y + ty[t][i];
					nx[i] = x + tx[t][i];
					if ((ny[i] < 1) || (ny[i] > N) || (nx[i] < 1) || (nx[i] > M)) {
						chk = 0;
						break;
					}
					sum += map[ny[i]][nx[i]];
					printf("%d %d %d %d\n", y, x, t, sum);
				}
				if (chk == 1)	max = (max < sum) ? sum : max;
			}
		}
	}
	printf("%d\n", max);
	return 0;
}